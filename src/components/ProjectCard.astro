---
// src/components/ProjectCard.astro
import type { HTMLAttributes } from 'astro/types';

interface Props extends HTMLAttributes<'a'> {
  title: string;
  imglink: string;
  content: string;
  technologies: string[];
  href?: string;
  theme?: "sunset" | "cosmic";
}

const { title, imglink, content, technologies, href, theme = "sunset", ...rest } = Astro.props;

const Tag = href ? 'a' : 'div';
const themeGradient = theme === "sunset" 
  ? "from-orange-600 to-red-950" 
  : "from-purple-700 to-pink-900";
---

<Tag 
  href={href} 
  {...rest}
  target={href ? "_blank" : undefined}
  class="group flex flex-col md:flex-row bg-white/5 border-2 border-white/10 rounded-xl overflow-hidden hover:border-white/40 transition-all duration-300 mb-6 w-full no-underline"
>
  {/* Imagen - Lado Izquierdo */}
  <div class="w-full md:w-2/5 lg:w-1/3 h-56 md:h-auto overflow-hidden">
    <img 
      src={imglink} 
      alt={title} 
      class="w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"
    />
  </div>

  {/* Contenido - Lado Derecho */}
  <div class="flex flex-col p-6 w-full md:w-3/5 lg:w-2/3">
    <h3 class="text-2xl font-bold text-white mb-3">{title}</h3>
    
    <div class="flex flex-col h-full">
      {/* Texto: order-2 en móvil (abajo), order-1 en escritorio (arriba) */}
      <p class="text-gray-300 text-sm sm:text-base leading-relaxed mb-4 order-2 md:order-1 text-left text-pretty">
        {content}
      </p>

      {/* Etiquetas: order-1 en móvil (medio), order-2 en escritorio (abajo) */}
      <div class="flex flex-wrap gap-2 order-1 md:order-2 mt-auto mb-4 md:mb-0">
        {technologies.map((tech) => (
          <span class={`text-[10px] font-bold px-2 py-1 rounded-md bg-gradient-to-br ${themeGradient} text-white`}>
            {tech}
          </span>
        ))}
      </div>
    </div>
  </div>
</Tag>